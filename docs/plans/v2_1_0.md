# Arete v2.1.0 â€” Technical Debt & Maintenance
*"Sharpening the tool for the Agentic future."*

---

## Core Vision
While v2.0.0 focused on rebranding and stability, v2.1.0 focuses on **Internal Health**. We are paying down the technical debt in our "Legacy" core so that the v3.0.0 Agentic Layer has a crystal-clear, modular base to work with.

## Roadmap

### Milestone 1: Breaking the "God Functions" ðŸ—¡ï¸
- [ ] Refactor `interface/cli.py`: Extract subcommand logic into separate `interface/commands/` modules.
- [ ] Refactor `application/pipeline.py`: Decouple the producer/consumer logic into a standalone `PipelineManager`.
- [ ] Bring `build_graph` complexity below 15 (target: 10).
- [ ] Bring `apply_fixes` complexity below 10.

### Milestone 2: Infrastructure Hardening ðŸ›¡ï¸
- [ ] Decouple `AnkiConnectAdapter` from `httpx` directly; use a generic `HttpClient` interface.
- [ ] Implement `AnkiConnect` connection pooling to avoid intermittent "Connection Reset" during massive syncs.
- [ ] Refactor `VaultService` to use a true Visitor pattern for scanning, reducing walk-logic complexity.

### Milestone 3: Documentation & Type Coverage ðŸ“–
- [ ] Achieve 100% docstring coverage in `src/arete/domain`.
- [ ] Achieve 100% type coverage in `src/arete/application`.
- [ ] Enable `flake8-cognitive-complexity` check in Ruff.

### Milestone 4: Security & Dependency Hygiene ðŸ”’
- [ ] Merge Dependabot updates for GitHub Actions.
- [ ] Resolve 8 vulnerabilities in `obsidian-plugin` (NPM dependencies).
- [ ] Update Python dev tools: `ruff` (-> 0.9.3+), `import-linter` (-> 2.9).
- [ ] Sync all lockfiles (`uv lock`, `npm install`).

---

## Success Criteria
1.  **Strict Linting**: Remove all `C901` (Complexity) ignores from `pyproject.toml`.
2.  **Modular Core**: No single function in the `arete` package exceeds a complexity of 10.
3.  **Zero Warnings**: `just qa` runs with zero warnings or informative messages.
